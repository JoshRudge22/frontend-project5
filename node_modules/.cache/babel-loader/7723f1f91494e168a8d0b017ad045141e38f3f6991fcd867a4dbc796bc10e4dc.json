{"ast":null,"code":"var _jsxFileName = \"/workspace/frontend-project5/src/contexts/CurrentUserContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CurrentUserContext = /*#__PURE__*/createContext();\nconst SetCurrentUserContext = /*#__PURE__*/createContext();\nexport const useCurrentUser = () => {\n  _s();\n  return useContext(CurrentUserContext);\n};\n_s(useCurrentUser, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const useSetCurrentUser = () => {\n  _s2();\n  return useContext(SetCurrentUserContext);\n};\n_s2(useSetCurrentUser, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const CurrentUserProvider = _ref => {\n  _s3();\n  let {\n    children\n  } = _ref;\n  const [currentUser, setCurrentUser] = useState(null);\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const {\n          data\n        } = await axios.get(\"/dj-rest-auth/user/\");\n        setCurrentUser(data);\n      } catch (err) {\n        console.error(\"Failed to fetch current user:\", err);\n        setCurrentUser(null); // Prevent infinite loops\n      }\n    };\n\n    fetchUser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(SetCurrentUserContext.Provider, {\n      value: setCurrentUser,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s3(CurrentUserProvider, \"Y5F2pQQk2LZA5WRO2+bvRm5iRuo=\");\n_c = CurrentUserProvider;\nvar _c;\n$RefreshReg$(_c, \"CurrentUserProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","axios","jsxDEV","_jsxDEV","CurrentUserContext","SetCurrentUserContext","useCurrentUser","_s","useSetCurrentUser","_s2","CurrentUserProvider","_ref","_s3","children","currentUser","setCurrentUser","fetchUser","data","get","err","console","error","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/workspace/frontend-project5/src/contexts/CurrentUserContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst CurrentUserContext = createContext();\nconst SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const { data } = await axios.get(\"/dj-rest-auth/user/\");\n        setCurrentUser(data);\n      } catch (err) {\n        console.error(\"Failed to fetch current user:\", err);\n        setCurrentUser(null); // Prevent infinite loops\n      }\n    };\n\n    fetchUser();\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n};"],"mappings":";;;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACtE,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,kBAAkB,gBAAGP,aAAa,EAAE;AAC1C,MAAMQ,qBAAqB,gBAAGR,aAAa,EAAE;AAE7C,OAAO,MAAMS,cAAc,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMT,UAAU,CAACM,kBAAkB,CAAC;AAAA;AAACG,EAAA,CAAtDD,cAAc;AAC3B,OAAO,MAAME,iBAAiB,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMX,UAAU,CAACO,qBAAqB,CAAC;AAAA;AAACI,GAAA,CAA5DD,iBAAiB;AAE9B,OAAO,MAAME,mBAAmB,GAAGC,IAAA,IAAkB;EAAAC,GAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAC9C,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACd,MAAMiB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,qBAAqB,CAAC;QACvDH,cAAc,CAACE,IAAI,CAAC;MACtB,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,+BAA+B,EAAEF,GAAG,CAAC;QACnDJ,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;MACxB;IACF,CAAC;;IAEDC,SAAS,EAAE;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEb,OAAA,CAACC,kBAAkB,CAACkB,QAAQ;IAACC,KAAK,EAAET,WAAY;IAAAD,QAAA,eAC9CV,OAAA,CAACE,qBAAqB,CAACiB,QAAQ;MAACC,KAAK,EAAER,cAAe;MAAAF,QAAA,EACnDA;IAAQ;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACsB;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACL;AAElC,CAAC;AAACf,GAAA,CAxBWF,mBAAmB;AAAAkB,EAAA,GAAnBlB,mBAAmB;AAAA,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
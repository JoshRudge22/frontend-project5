{"ast":null,"code":"var _jsxFileName = \"/workspace/frontend-project5/src/pages/auth/SignInForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from \"axios\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport { useSetCurrentUser } from '../../contexts/CurrentUserContext';\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport signStyles from '../../styles/SigningForm.module.css';\nimport buttonStyles from '../../styles/Buttons.module.css';\nimport camera from '../../media/camera.jpg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SignInForm() {\n  _s();\n  const setCurrentUser = useSetCurrentUser();\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const {\n    username,\n    password\n  } = signInData;\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setIsLoading(true); // Set loading state\n    setErrors({}); // Reset errors on new submission\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/dj-rest-auth/login/\", signInData);\n      setCurrentUser(data.user);\n      setTokenTimestamp(data);\n      history.push(`/profiles/${data.user.profile_id}`);\n    } catch (err) {\n      var _err$response;\n      setErrors(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || {\n        non_field_errors: [\"An error occurred. Please try again.\"]\n      });\n    } finally {\n      setIsLoading(false); // Reset loading state\n    }\n  };\n\n  const handleChange = event => {\n    setSignInData({\n      ...signInData,\n      [event.target.name]: event.target.value\n    });\n  };\n  const isFormValid = () => {\n    return username && password; // Basic validation\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: signStyles.container,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: signStyles.title,\n          children: \"Sign In Here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"username\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              className: signStyles.label,\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              className: signStyles.login,\n              type: \"text\",\n              placeholder: \"Username\",\n              name: \"username\",\n              value: username,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), errors.username && errors.username.map((message, idx) => /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"warning\",\n            children: message\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"password\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              className: signStyles.label,\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              className: signStyles.login,\n              type: \"password\",\n              placeholder: \"Password\",\n              name: \"password\",\n              value: password,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), errors.password && errors.password.map((message, idx) => /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"warning\",\n            children: message\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(Button, {\n            className: buttonStyles.login,\n            type: \"submit\",\n            disabled: isLoading || !isFormValid() // Disable button if loading or form is invalid\n            ,\n            children: isLoading ? 'Signing In...' : 'Sign In'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), errors.non_field_errors && errors.non_field_errors.map((message, idx) => /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"warning\",\n            className: \"mt-3\",\n            children: message\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: signStyles.otherlink,\n          children: [\"Don't have an account? Click on \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signup\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 79\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: camera,\n          alt: \"Sign In\",\n          className: signStyles.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(SignInForm, \"Gs5+FxPDr4vrgScyNm1G+ojz2UU=\", false, function () {\n  return [useSetCurrentUser, useHistory];\n});\n_c = SignInForm;\nexport default SignInForm;\nvar _c;\n$RefreshReg$(_c, \"SignInForm\");","map":{"version":3,"names":["React","useState","Link","useHistory","axios","Container","Row","Col","Form","Button","Alert","useSetCurrentUser","setTokenTimestamp","signStyles","buttonStyles","camera","jsxDEV","_jsxDEV","SignInForm","_s","setCurrentUser","signInData","setSignInData","username","password","errors","setErrors","isLoading","setIsLoading","history","handleSubmit","event","preventDefault","data","post","user","push","profile_id","err","_err$response","response","non_field_errors","handleChange","target","name","value","isFormValid","className","container","children","md","title","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","controlId","Label","label","Control","login","type","placeholder","onChange","required","map","message","idx","variant","disabled","otherlink","to","src","alt","image","_c","$RefreshReg$"],"sources":["/workspace/frontend-project5/src/pages/auth/SignInForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from \"axios\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport { useSetCurrentUser } from '../../contexts/CurrentUserContext';\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport signStyles from '../../styles/SigningForm.module.css';\nimport buttonStyles from '../../styles/Buttons.module.css';\nimport camera from '../../media/camera.jpg';\n\nfunction SignInForm() {\n  const setCurrentUser = useSetCurrentUser();\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const { username, password } = signInData;\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setIsLoading(true); // Set loading state\n    setErrors({}); // Reset errors on new submission\n\n    try {\n      const { data } = await axios.post(\"/dj-rest-auth/login/\", signInData);\n      setCurrentUser(data.user);\n      setTokenTimestamp(data);\n      history.push(`/profiles/${data.user.profile_id}`);\n    } catch (err) {\n      setErrors(err.response?.data || { non_field_errors: [\"An error occurred. Please try again.\"] });\n    } finally {\n      setIsLoading(false); // Reset loading state\n    }\n  };\n\n  const handleChange = (event) => {\n    setSignInData({\n      ...signInData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const isFormValid = () => {\n    return username && password; // Basic validation\n  };\n\n  return (\n    <Container className={signStyles.container}>\n      <Row className=\"justify-content-center\">\n        <Col md={6}>\n          <h1 className={signStyles.title}>Sign In Here</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className={signStyles.label}>Username</Form.Label>\n              <Form.Control\n                className={signStyles.login}\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={handleChange}\n                required\n              />\n            </Form.Group>\n            {errors.username && errors.username.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">{message}</Alert>\n            ))}\n            <Form.Group controlId=\"password\">\n              <Form.Label className={signStyles.label}>Password</Form.Label>\n              <Form.Control\n                className={signStyles.login}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={password}\n                onChange={handleChange}\n                required\n              />\n            </Form.Group>\n            {errors.password && errors.password.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">{message}</Alert>\n            ))}\n            <Button\n              className={buttonStyles.login}\n              type=\"submit\"\n              disabled={isLoading || !isFormValid()} // Disable button if loading or form is invalid\n            >\n              {isLoading ? 'Signing In...' : 'Sign In'}\n            </Button>\n            {errors.non_field_errors && errors.non_field_errors.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">{message}</Alert>\n            ))}\n          </Form>\n          <p className={signStyles.otherlink}>Don't have an account? Click on <Link to=\"/signup\">Sign Up</Link></p>\n        </Col>\n        <Col md={6} className=\"text-center\">\n          <img src={camera} alt=\"Sign In\" className={signStyles.image} />\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SignInForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
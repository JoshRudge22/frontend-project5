{"ast":null,"code":"var _jsxFileName = \"/workspace/frontend-project5/src/pages/profile/info/ProfileInfo.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport { useParams } from 'react-router-dom';\nimport { useCurrentUser } from '../../../contexts/CurrentUserContext';\nimport profileStyles from '../../../styles/profiles/Profile.module.css';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileInfo = () => {\n  _s();\n  const {\n    profileId\n  } = useParams();\n  const currentUser = useCurrentUser();\n  const [profileData, setProfileData] = useState(null);\n  const [followerCount, setFollowerCount] = useState(0);\n  const [followingCount, setFollowingCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchProfileData = async () => {\n      try {\n        const response = await axios.get(`/profiles/update/${profileId}/`);\n        setProfileData(response.data);\n      } catch (error) {\n        console.error('Error fetching profile data:', error);\n        setError(`Failed to load profile data: ${error.response ? error.response.data : error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const fetchCounts = async () => {\n      if (currentUser) {\n        try {\n          const [followerRes, followingRes] = await Promise.all([axios.get(`/profiles/${currentUser.username}/follower_count/`), axios.get(`/profiles/${currentUser.username}/following_count/`)]);\n          setFollowerCount(followerRes.data.follower_count);\n          setFollowingCount(followingRes.data.following_count);\n        } catch (error) {\n          console.error('Error fetching follower/following count:', error);\n          setError('Failed to load follower/following counts.');\n        }\n      }\n    };\n    fetchProfileData();\n    fetchCounts();\n  }, [profileId, currentUser]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: profileStyles.loadingContainer,\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: profileStyles.errorMessage,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: profileStyles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: profileStyles.heading,\n      children: [\"Welcome \", profileData.user]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: profileStyles.image,\n      src: profileData.profile_image || '/path/to/default-image.jpg',\n      alt: `${profileData.full_name}'s profile`,\n      onError: e => e.target.src = '/path/to/default-image.jpg' // Fallback image on error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: profileStyles.info,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: profileStyles.span,\n        children: \"Full Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 41\n      }, this), \" \", profileData.full_name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: profileStyles.info,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: profileStyles.span,\n        children: \"Bio:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 41\n      }, this), \" \", profileData.bio]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: profileStyles.info,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: profileStyles.span,\n        children: \"Location:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 41\n      }, this), \" \", profileData.location]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: profileStyles.info,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: profileStyles.span,\n        children: \"Followers:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 41\n      }, this), \" \", followerCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: profileStyles.info,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: profileStyles.span,\n        children: \"Following:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 41\n      }, this), \" \", followingCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileInfo, \"CEpWx0UCRyKizAiqu1RQYt1956s=\", false, function () {\n  return [useParams, useCurrentUser];\n});\n_c = ProfileInfo;\nexport default ProfileInfo;\nvar _c;\n$RefreshReg$(_c, \"ProfileInfo\");","map":{"version":3,"names":["React","useState","useEffect","axios","Container","useParams","useCurrentUser","profileStyles","Spinner","jsxDEV","_jsxDEV","ProfileInfo","_s","profileId","currentUser","profileData","setProfileData","followerCount","setFollowerCount","followingCount","setFollowingCount","loading","setLoading","error","setError","fetchProfileData","response","get","data","console","message","fetchCounts","followerRes","followingRes","Promise","all","username","follower_count","following_count","className","loadingContainer","children","animation","role","fileName","_jsxFileName","lineNumber","columnNumber","errorMessage","container","heading","user","image","src","profile_image","alt","full_name","onError","e","target","info","span","bio","location","_c","$RefreshReg$"],"sources":["/workspace/frontend-project5/src/pages/profile/info/ProfileInfo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport { useParams } from 'react-router-dom';\nimport { useCurrentUser } from '../../../contexts/CurrentUserContext';\nimport profileStyles from '../../../styles/profiles/Profile.module.css';\nimport Spinner from 'react-bootstrap/Spinner';\n\nconst ProfileInfo = () => {\n  const { profileId } = useParams();\n  const currentUser = useCurrentUser();\n  const [profileData, setProfileData] = useState(null);\n  const [followerCount, setFollowerCount] = useState(0);\n  const [followingCount, setFollowingCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchProfileData = async () => {\n      try {\n        const response = await axios.get(`/profiles/update/${profileId}/`);\n        setProfileData(response.data);\n      } catch (error) {\n        console.error('Error fetching profile data:', error);\n        setError(`Failed to load profile data: ${error.response ? error.response.data : error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    const fetchCounts = async () => {\n      if (currentUser) {\n        try {\n          const [followerRes, followingRes] = await Promise.all([\n            axios.get(`/profiles/${currentUser.username}/follower_count/`),\n            axios.get(`/profiles/${currentUser.username}/following_count/`)\n          ]);\n          setFollowerCount(followerRes.data.follower_count);\n          setFollowingCount(followingRes.data.following_count);\n        } catch (error) {\n          console.error('Error fetching follower/following count:', error);\n          setError('Failed to load follower/following counts.');\n        }\n      }\n    };\n\n    fetchProfileData();\n    fetchCounts();\n  }, [profileId, currentUser]);\n\n  if (loading) {\n    return (\n      <div className={profileStyles.loadingContainer}>\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n      </div>\n    );\n  }\n\n  if (error) {\n    return <div className={profileStyles.errorMessage}>{error}</div>;\n  }\n\n  return (\n    <Container className={profileStyles.container}>\n      <h2 className={profileStyles.heading}>Welcome {profileData.user}</h2>\n      <img \n        className={profileStyles.image} \n        src={profileData.profile_image || '/path/to/default-image.jpg'} \n        alt={`${profileData.full_name}'s profile`} \n        onError={(e) => e.target.src = '/path/to/default-image.jpg'} // Fallback image on error\n      />\n      <p className={profileStyles.info}><span className={profileStyles.span}>Full Name:</span> {profileData.full_name}</p>\n      <p className={profileStyles.info}><span className={profileStyles.span}>Bio:</span> {profileData.bio}</p>\n      <p className={profileStyles.info}><span className={profileStyles.span}>Location:</span> {profileData.location}</p>\n      <p className={profileStyles.info}><span className={profileStyles.span}>Followers:</span> {followerCount}</p>\n      <p className={profileStyles.info}><span className={profileStyles.span}>Following:</span> {followingCount}</p>\n    </Container>\n  );\n};\n\nexport default ProfileInfo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
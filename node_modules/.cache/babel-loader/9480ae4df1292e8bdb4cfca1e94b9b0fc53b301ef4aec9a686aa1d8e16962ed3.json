{"ast":null,"code":"var _jsxFileName = \"/workspace/frontend-project5/src/pages/auth/SignInForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Alert from \"react-bootstrap/Alert\";\nimport signStyles from \"../../styles/SigningForm.module.css\";\nimport buttonStyles from \"../../styles/Buttons.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SignInForm() {\n  _s();\n  const setCurrentUser = useSetCurrentUser();\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const {\n    username,\n    password\n  } = signInData;\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n  const handleChange = event => {\n    setSignInData({\n      ...signInData,\n      [event.target.name]: event.target.value\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setIsLoading(true);\n    setErrors({});\n    try {\n      const {\n        data\n      } = await axios.post(\"/dj-rest-auth/login/\", signInData, {\n        withCredentials: true\n      });\n      setCurrentUser(data.user);\n      setTokenTimestamp(data);\n      history.push(\"/\"); // ✅ **Redirect to Feed after login**\n    } catch (err) {\n      var _err$response;\n      setErrors(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || {\n        non_field_errors: [\"An error occurred.\"]\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: signStyles.container,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: signStyles.title,\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"username\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Username\",\n              name: \"username\",\n              value: username,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"password\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"Password\",\n              name: \"password\",\n              value: password,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), errors.non_field_errors && errors.non_field_errors.map((message, idx) => /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"warning\",\n            children: message\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            disabled: isLoading,\n            className: buttonStyles.login,\n            children: isLoading ? \"Signing In...\" : \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signup\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(SignInForm, \"tgcxISZjCabm7GshX9Yp3lQpuzM=\", false, function () {\n  return [useSetCurrentUser, useHistory];\n});\n_c = SignInForm;\nexport default SignInForm;\nvar _c;\n$RefreshReg$(_c, \"SignInForm\");","map":{"version":3,"names":["React","useState","Link","useHistory","axios","useSetCurrentUser","setTokenTimestamp","Container","Row","Col","Form","Button","Alert","signStyles","buttonStyles","jsxDEV","_jsxDEV","SignInForm","_s","setCurrentUser","signInData","setSignInData","username","password","errors","setErrors","isLoading","setIsLoading","history","handleChange","event","target","name","value","handleSubmit","preventDefault","data","post","withCredentials","user","push","err","_err$response","response","non_field_errors","className","container","children","md","title","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","required","map","message","idx","variant","disabled","login","to","_c","$RefreshReg$"],"sources":["/workspace/frontend-project5/src/pages/auth/SignInForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Alert from \"react-bootstrap/Alert\";\nimport signStyles from \"../../styles/SigningForm.module.css\";\nimport buttonStyles from \"../../styles/Buttons.module.css\";\n\nfunction SignInForm() {\n  const setCurrentUser = useSetCurrentUser();\n  const [signInData, setSignInData] = useState({ username: \"\", password: \"\" });\n  const { username, password } = signInData;\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n\n  const handleChange = (event) => {\n    setSignInData({ ...signInData, [event.target.name]: event.target.value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setIsLoading(true);\n    setErrors({});\n\n    try {\n      const { data } = await axios.post(\"/dj-rest-auth/login/\", signInData, {\n        withCredentials: true,\n      });\n\n      setCurrentUser(data.user);\n      setTokenTimestamp(data);\n      history.push(\"/\"); // ✅ **Redirect to Feed after login**\n    } catch (err) {\n      setErrors(err.response?.data || { non_field_errors: [\"An error occurred.\"] });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Container className={signStyles.container}>\n      <Row className=\"justify-content-center\">\n        <Col md={6}>\n          <h1 className={signStyles.title}>Sign In</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={handleChange}\n                required\n              />\n            </Form.Group>\n\n            <Form.Group controlId=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={password}\n                onChange={handleChange}\n                required\n              />\n            </Form.Group>\n\n            {errors.non_field_errors && errors.non_field_errors.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">{message}</Alert>\n            ))}\n\n            <Button type=\"submit\" disabled={isLoading} className={buttonStyles.login}>\n              {isLoading ? \"Signing In...\" : \"Sign In\"}\n            </Button>\n          </Form>\n          <p>Don't have an account? <Link to=\"/signup\">Sign Up</Link></p>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SignInForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}